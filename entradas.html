<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Entradas - Tonel 333</title>
<script src="app.js"></script>
<style>
body { font-family: Arial,sans-serif; padding:20px; background:#fff8dc; color:#5c3a00; }
.topo { display:flex; justify-content: flex-end; align-items:center; margin-bottom:20px; }
.topo img { width:120px; }
.voltar { font-size:24px; text-decoration:none; color:#5c3a00; margin-right:auto; }
label { display:block; margin-top:10px; }
input, select { padding:5px; margin-top:5px; width:100%; max-width:300px; }
button { margin-top:10px; padding:10px; font-weight:bold; cursor:pointer; }
.listaEntradas { margin-top:20px; }
.listaEntradas div { margin-bottom:10px; padding:8px; border:1px solid #5c3a00; border-radius:6px; display:flex; justify-content: space-between; align-items:center; }
.listaEntradas button { padding:5px; font-size:14px; cursor:pointer; }
</style>
</head>
<body>

<div class="topo">
  <a href="index.html" class="voltar">←</a>
  <img src="logo.png" alt="Tonel 333">
</div>

<h2>Registrar Entrada</h2>
<form id="formEntrada">
  <label>Valor:</label>
  <input type="number" id="valorEntrada" step="0.01" required>

  <label>Forma de Pagamento:</label>
  <select id="formaEntrada">
    <option value="dinheiro">Dinheiro</option>
    <option value="pix">Pix</option>
    <option value="debito">Débito</option>
    <option value="credito">Crédito</option>
  </select>

  <label>Taxa do cartão (se houver):</label>
  <input type="number" id="taxaEntrada" step="0.01" value="0">

  <label>Data:</label>
  <input type="date" id="dataEntrada">

  <button type="submit">Registrar</button>
</form>

<h3>Registros de Entradas</h3>
<div class="listaEntradas" id="listaEntradas"></div>

<script>
document.getElementById('dataEntrada').value = new Date().toISOString().slice(0,10);

// Listar entradas
function listarEntradas(){
  let entradas = JSON.parse(localStorage.getItem('entradas')) || [];
  let div = document.getElementById('listaEntradas');
  div.innerHTML = '';
  entradas.forEach((e, i)=>{
    let eDiv = document.createElement('div');
    eDiv.innerHTML = `${e.data} - R$ ${e.valor.toFixed(2)} - ${e.forma} - Taxa: R$ ${e.taxa.toFixed(2)}`;
    div.appendChild(eDiv);
  });
}

listarEntradas();

document.getElementById('formEntrada').addEventListener('submit', function(e){
  e.preventDefault();
  let valor = parseFloat(document.getElementById('valorEntrada').value);
  let forma = document.getElementById('formaEntrada').value;
  let taxa = parseFloat(document.getElementById('taxaEntrada').value);
  let data = document.getElementById('dataEntrada').value;
  salvarEntrada(valor, forma, taxa, data);
  alert('Entrada registrada!');
  this.reset();
  document.getElementById('dataEntrada').value = new Date().toISOString().slice(0,10);
  listarEntradas();
});
</script>

</body>
</html>
